/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{240:function(e,t,o){var content=o(290);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("1af8c97c",content,!0,{sourceMap:!1})},241:function(e,t,o){var content=o(292);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("0d2cd9dc",content,!0,{sourceMap:!1})},242:function(e,t,o){var content=o(294);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("485a8b96",content,!0,{sourceMap:!1})},243:function(e,t,o){var content=o(296);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("a8602d14",content,!0,{sourceMap:!1})},244:function(e,t,o){var content=o(298);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("a882be54",content,!0,{sourceMap:!1})},245:function(e,t,o){var content=o(300);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("9e0cedd8",content,!0,{sourceMap:!1})},246:function(e,t,o){var content=o(302);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("5d2065f6",content,!0,{sourceMap:!1})},247:function(e,t,o){var content=o(304);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("7520c72a",content,!0,{sourceMap:!1})},248:function(e,t,o){var content=o(306);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(25).default)("64566114",content,!0,{sourceMap:!1})},287:function(e,t,o){var n,c,l;c=[e,t],void 0===(l="function"==typeof(n=function(e,t){"use strict";var o,n,map="function"==typeof Map?new Map:(o=[],n=[],{has:function(e){return o.indexOf(e)>-1},get:function(e){return n[o.indexOf(e)]},set:function(e,t){-1===o.indexOf(e)&&(o.push(e),n.push(t))},delete:function(e){var t=o.indexOf(e);t>-1&&(o.splice(t,1),n.splice(t,1))}}),c=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){c=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function l(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!map.has(e)){var style,t=null,o=null,n=null,l=function(){e.clientWidth!==o&&v()},r=function(style){window.removeEventListener("resize",l,!1),e.removeEventListener("input",v,!1),e.removeEventListener("keyup",v,!1),e.removeEventListener("autosize:destroy",r,!1),e.removeEventListener("autosize:update",v,!1),Object.keys(style).forEach((function(t){e.style[t]=style[t]})),map.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",r,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",v,!1),window.addEventListener("resize",l,!1),e.addEventListener("input",v,!1),e.addEventListener("autosize:update",v,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",map.set(e,{destroy:r,update:v}),"vertical"===(style=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===style.resize&&(e.style.resize="horizontal"),t="content-box"===style.boxSizing?-(parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)):parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth),isNaN(t)&&(t=0),v()}function d(t){var o=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=o,e.style.overflowY=t}function f(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),c=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",o=e.clientWidth,n.forEach((function(e){e.node.scrollTop=e.scrollTop})),c&&(document.documentElement.scrollTop=c)}}function v(){f();var t=Math.round(parseFloat(e.style.height)),o=window.getComputedStyle(e,null),l="content-box"===o.boxSizing?Math.round(parseFloat(o.height)):e.offsetHeight;if(l<t?"hidden"===o.overflowY&&(d("scroll"),f(),l="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==o.overflowY&&(d("hidden"),f(),l="content-box"===o.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==l){n=l;var r=c("autosize:resized");try{e.dispatchEvent(r)}catch(e){}}}}function r(e){var t=map.get(e);t&&t.destroy()}function d(e){var t=map.get(e);t&&t.update()}var f=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((f=function(e){return e}).destroy=function(e){return e},f.update=function(e){return e}):((f=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return l(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],r),e},f.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],d),e}),t.default=f,e.exports=t.default})?n.apply(t,c):n)||(e.exports=l)},288:function(e,t,o){"use strict";var n=o(0);n="default"in n?n.default:n;/^2\./.test(n.version)||n.util.warn("VueFocus 2.1.0 only supports Vue 2.x, and does not support Vue "+n.version);var c={inserted:function(e,t){t.value?e.focus():e.blur()},componentUpdated:function(e,t){t.modifiers.lazy&&Boolean(t.value)===Boolean(t.oldValue)||(t.value?e.focus():e.blur())}},l={directives:{focus:c}};t.version="2.1.0",t.focus=c,t.mixin=l},289:function(e,t,o){"use strict";o(240)},290:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-editor{padding:0 5px;min-width:100px;font-size:16px;position:relative;word-break:break-all;word-wrap:break-word}.c-editor p{white-space:pre-wrap}.c-editor__hover{background-color:#f3f6fb}.c-editor-show{padding:0;border:1px solid transparent}.c-editor-edit{min-height:40px}.c-editor .quill-editor{border-width:0}.c-editor .quill-editor:focus{outline:none}.c-editor .quill-editor .ql-editor{border:1px solid #297aff}.c-editor .ql-clipboard,.c-editor .ql-hidden,.c-editor .ql-toolbar{display:none}",""]),e.exports=t},291:function(e,t,o){"use strict";o(241)},292:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-radio{padding:10px 10px 20px}.c-topic-radio .el-radio{display:flex;margin-bottom:5px}",""]),e.exports=t},293:function(e,t,o){"use strict";o(242)},294:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-checkbox{padding:10px 10px 20px}.c-topic-checkbox .checkbox-head,.c-topic-checkbox .el-checkbox{display:flex}",""]),e.exports=t},295:function(e,t,o){"use strict";o(243)},296:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-rate{padding:10px 10px 20px}.c-topic-rate .rate-head{display:flex;width:345px}.c-topic-rate .rate-head .max-label,.c-topic-rate .rate-head .min-label{flex:1}.c-topic-rate .topic-rate{display:flex;padding:20px 0 0}.c-topic-rate .topic-rate-item{width:30px;height:35px;margin-right:5px;line-height:35px;text-align:center;border-radius:3px;font-weight:700;background-color:#a0a0a0}",""]),e.exports=t},297:function(e,t,o){"use strict";o(244)},298:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-text{padding:10px 10px 20px}.c-topic-text .el-input{width:400px}",""]),e.exports=t},299:function(e,t,o){"use strict";o(245)},300:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-explain{padding:10px 10px 20px}.c-topic-explain .el-input{width:400px}",""]),e.exports=t},301:function(e,t,o){"use strict";o(246)},302:function(e,t,o){(t=o(24)(!1)).push([e.i,".c-topic-paging{padding:10px 10px 20px}.c-topic-paging .paging-line{height:1px;width:100%;background-color:#999;margin-bottom:15px}.c-topic-paging .paging-body{display:flex}",""]),e.exports=t},303:function(e,t,o){"use strict";o(247)},304:function(e,t,o){(t=o(24)(!1)).push([e.i,".topic-head{display:flex}.topic-type{color:#297aff;font-weight:700;font-size:14px}.topic-body{margin:10px 0 0}.topic-apply{padding:0}",""]),e.exports=t},305:function(e,t,o){"use strict";o(248)},306:function(e,t,o){(t=o(24)(!1)).push([e.i,".page-question-design{padding:0 10px;display:flex}.page-question-design .design-left{width:200px;height:100%}.page-question-design .design-nav{width:200px;background-color:#fff;position:fixed;min-height:600px;top:90px}.page-question-design .design-nav-title{font-size:18px;font-weight:700;height:30px;line-height:30px;border-bottom:1px solid #e0e0e0}.page-question-design .design-nav-body{display:flex;flex-wrap:wrap;padding:10px}.page-question-design .design-nav-item{width:75px;border:1px solid #e0e0e0;border-radius:3px;height:34px;display:flex;justify-content:center;align-items:center;cursor:pointer}.page-question-design .design-nav-item:hover{background-color:#297aff;color:#fff}.page-question-design .design-nav-item:hover .f-icon{color:#fff}.page-question-design .design-nav-end{border-left-width:0}.page-question-design .design-body{flex:1;display:flex;justify-content:center;margin-left:-250px}.page-question-design .design-question{min-width:600px;width:60%;min-height:960px;padding:20px 40px 80px;background-color:#fff;box-shadow:0 0 2px #999}.page-question-design .design-question-head{padding-bottom:20px;border-bottom:1px solid #e0e0e0}.page-question-design .topic-foot{display:flex;height:30px}.page-question-design .topic-foot .action{font-size:12px;line-height:30px;padding:0 10px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-question-design .topic-foot .action:hover{opacity:.8}.page-question-design .topic-foot .action:active{opacity:1}.page-question-design .question-design-drawer{top:92px;width:260px!important;height:auto}.page-question-design .question-design-drawer .el-drawer__body{padding:20px 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-question-design .question-design-drawer .el-drawer__body .topic-title{font-size:16px;font-weight:700}.page-question-design .question-design-drawer .el-drawer__body .topic-set-flex{display:flex;align-items:center;justify-content:center}.page-question-design .question-design-drawer .el-drawer__body .topic-set-item{padding:15px 0;border-bottom:1px solid #e0e0e0}.page-question-design .question-design-drawer .el-drawer__body .topic-set-label{font-size:14px;color:#888;flex:1;line-height:32px}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position-group{display:flex;margin-top:15px}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position{flex:1;font-size:14px;background-color:#a0a0a0;margin-right:5px;line-height:32px;text-align:center;cursor:pointer;color:#fff}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position:hover{opacity:.8}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position:active{opacity:1}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position-active{background-color:#297aff}.page-question-design .question-design-drawer .el-drawer__body .topic-set-position:last-child{margin-right:0}.page-question-design .question-design-drawer .el-drawer__body .topic-set-logic-btn{width:60px;cursor:pointer;line-height:32px;background-color:#297aff;font-size:14px;color:#fff;text-align:center}.page-question-design .question-design-drawer .el-drawer__body .topic-set-logic-btn:hover{opacity:.8}.page-question-design .question-design-drawer .el-drawer__body .topic-set-logic-btn:active{opacity:1}.page-question-design .question-design-drawer .el-drawer__body .el-select{margin:20px 0}.page-question-design .question-design-logic-dialog{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-question-design .question-design-logic-dialog .el-dialog__header{padding:0}.page-question-design .question-design-logic-dialog .el-dialog__body{padding:20px}.page-question-design .question-design-logic-dialog .el-dialog-title{font-size:16px;font-weight:700}.page-question-design .question-design-logic-dialog .logic-type-group{display:flex;margin:15px 0}.page-question-design .question-design-logic-dialog .logic-type{font-size:16px;margin-right:10px;cursor:pointer;border-bottom:1px solid #fff}.page-question-design .question-design-logic-dialog .logic-type-active{color:#297aff;border-bottom-color:#297aff}.page-question-design .question-design-logic-dialog .logic-group{margin:10px 0}.page-question-design .question-design-logic-dialog .logic-accord{line-height:20px;margin-bottom:10px}.page-question-design .question-design-logic-dialog .logic-accord .el-select{width:75px;margin:0 5px}.page-question-design .question-design-logic-dialog .logic-accord .el-select .el-input__inner{border-radius:0;height:24px;line-height:24px}.page-question-design .question-design-logic-dialog .logic-accord .el-select .el-input__icon{line-height:24px}.page-question-design .question-design-logic-dialog .logic-item{padding:5px 0;display:flex;align-items:center}.page-question-design .question-design-logic-dialog .logic-item .el-select .el-input__inner{border-radius:0;height:28px;line-height:28px}.page-question-design .question-design-logic-dialog .logic-item .el-select .el-input__icon{line-height:28px}.page-question-design .question-design-logic-dialog .logic-item .el-select-topic{width:200px}.page-question-design .question-design-logic-dialog .logic-item .el-select-topic-ext{margin-left:5px}.page-question-design .question-design-logic-dialog .logic-item .el-select-cond{width:120px;margin:0 10px}.page-question-design .question-design-logic-dialog .logic-item .el-select-opt{width:200px}.page-question-design .question-design-logic-dialog .logic-item .el-select-opt-ext{margin:0 5px}.page-question-design .question-design-logic-dialog .logic-item .el-icon-circle-plus-outline,.page-question-design .question-design-logic-dialog .logic-item .el-icon-remove-outline{margin-left:10px;font-size:22px;cursor:pointer}.page-question-design .question-design-logic-dialog .logic-item .el-icon-circle-plus-outline:hover,.page-question-design .question-design-logic-dialog .logic-item .el-icon-remove-outline:hover{opacity:.8}.page-question-design .question-design-logic-dialog .logic-item .el-icon-circle-plus-outline:active,.page-question-design .question-design-logic-dialog .logic-item .el-icon-remove-outline:active{opacity:1}.page-question-design .question-design-logic-dialog .logic-foot{height:40px;display:flex;justify-content:flex-end}.page-question-design .question-design-logic-dialog .logic-btn{height:32px;line-height:32px;cursor:pointer;text-align:center;width:80px;color:#999;border:1px solid #999;margin-left:15px}.page-question-design .question-design-logic-dialog .logic-btn:hover{opacity:.8}.page-question-design .question-design-logic-dialog .logic-btn:active{opacity:1}.page-question-design .question-design-logic-dialog .logic-save{color:#fff;background-color:#297aff;border-color:#297aff}",""]),e.exports=t},315:function(e,t,o){"use strict";o.r(t);o(60),o(61),o(107),o(33);var n=o(7),c=o(4),l=o.n(c),r=(o(35),o(62),o(287)),d=o.n(r),f=(o(288),{name:"CEditor",props:{value:{type:String,default:function(){return null}}},data:function(){return{isEdit:!1,isHover:!1,quillOption:{}}},mounted:function(){},methods:{onHover:function(e){this.isHover=e},onClick:function(){this.isEdit=!0},onBlur:function(){this.isHover||(this.isEdit=!1,this.$emit("blur",this.value))},onFocus:function(e){d()(e.target),this.quillEditor.enable()},onChange:function(e){e.editor;var html=e.html;e.text;html||(html="<p></p>"),html=html.replace("&nbsp;"," "),this.content=html,this.$emit("input",html)}}}),v=(o(289),o(26)),h=Object(v.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-editor",class:{"c-editor__hover":e.isHover},on:{mouseover:function(t){return e.onHover(!0)},mouseout:function(t){return e.onHover(!1)},click:function(t){return e.onClick()}}},[e.isEdit?e._e():o("div",{staticClass:"c-editor-show",domProps:{innerHTML:e._s(e.value)}}),e.isEdit?o("div",{directives:[{name:"quill",rawName:"v-quill:quillEditor",value:e.quillOption,expression:"quillOption",arg:"quillEditor"}],staticClass:"quill-editor",attrs:{value:e.value},on:{focus:e.onFocus,blur:function(t){return e.onBlur()},change:function(t){return e.onChange(t)}}}):e._e()])}),[],!1,null,null,null).exports,x={components:{CEditer:h},props:{data:{type:[Array,Object],default:function(){return null}}},methods:{addZero:function(e){return this.$util.addZero(e)},getOption:function(){return _.first(_.get(this.data,"options"))}}},m={mixins:[x],components:{},props:{},data:function(){return{}},methods:{}},y=(o(291),Object(v.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-radio"},[o("div",{staticClass:"topic-head"},[o("span",[e._v(e._s(e.addZero(e.data.number))+"、")]),o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),o("span",{staticClass:"topic-type"},[e._v("[单选题]")])],1),o("div",{staticClass:"topic-body"},e._l(e.data.options,(function(t,n){return o("el-radio",{key:n},[o("c-editer",{model:{value:t.label,callback:function(o){e.$set(t,"label",o)},expression:"opt.label"}})],1)})),1)])}),[],!1,null,null,null).exports),w={mixins:[x],props:{},data:function(){return{}},methods:{}},k=(o(293),Object(v.a)(w,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-checkbox"},[o("div",{staticClass:"topic-head"},[o("span",[e._v(e._s(e.addZero(e.data.number))+"、")]),o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),o("span",{staticClass:"topic-type"},[e._v("[复选题]")])],1),o("div",{staticClass:"topic-body"},e._l(e.data.options,(function(t,n){return o("el-checkbox",{key:n},[o("c-editer",{model:{value:t.label,callback:function(o){e.$set(t,"label",o)},expression:"opt.label"}})],1)})),1)])}),[],!1,null,null,null).exports),C={mixins:[x],components:{},props:{},data:function(){return{option:this.getOption()}},methods:{getOption:function(){return l.a.first(l.a.get(this.data,"options"))}}},L=(o(295),Object(v.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-rate"},[o("div",{staticClass:"topic-head"},[o("span",[e._v(e._s(e.addZero(e.data.number))+"、")]),o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),o("span",{staticClass:"topic-type"},[e._v("[评分题]")])],1),o("div",{staticClass:"topic-body"},[o("div",{staticClass:"rate-head"},[o("div",{staticClass:"min-label"},[o("c-editer",{model:{value:e.option.minLabel,callback:function(t){e.$set(e.option,"minLabel",t)},expression:"option.minLabel"}})],1),o("div",{staticClass:"max-label"},[o("c-editer",{model:{value:e.option.maxLabel,callback:function(t){e.$set(e.option,"maxLabel",t)},expression:"option.maxLabel"}})],1)]),o("div",{staticClass:"topic-rate"},e._l(e.option.max,(function(t){return o("div",{key:t,staticClass:"topic-rate-item"},[e._v(e._s(t))])})),0)])])}),[],!1,null,null,null).exports),T={mixins:[x],components:{},props:{},data:function(){return{option:this.getOption()}},methods:{getOption:function(){return l.a.first(l.a.get(this.data,"options"))}}},$=(o(297),Object(v.a)(T,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-text"},[o("div",{staticClass:"topic-head"},[o("span",[e._v(e._s(e.addZero(e.data.number))+"、")]),o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),o("span",{staticClass:"topic-type"},[e._v("[开放题]")])],1),o("div",{staticClass:"topic-body"},[o("el-input",{attrs:{placeholder:"请输入问卷标题"},model:{value:e.option.text,callback:function(t){e.$set(e.option,"text",t)},expression:"option.text"}})],1)])}),[],!1,null,null,null).exports),E={mixins:[x],components:{},props:{},data:function(){return{}},methods:{}},z=(o(299),Object(v.a)(E,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-explain"},[o("div",{staticClass:"topic-head"},[o("span",[e._v(e._s(e.addZero(e.data.number))+"、")]),o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1)])}),[],!1,null,null,null).exports),j={mixins:[x],components:{},props:{},data:function(){return{}},methods:{}},D=(o(301),Object(v.a)(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"c-topic-paging"},[o("div",{staticClass:"paging-line"}),o("div",{staticClass:"paging-body"},[o("c-editer",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),o("span",[e._v("1/2")])],1)])}),[],!1,null,null,null).exports),O={name:"CTopic",props:{type:{type:String,default:""},data:{type:[Array,Object]}},components:{CTopicRadio:y,CTopicCheckbox:k,CTopicRate:L,CTopicText:$,CTopicExplain:z,CTopicPaging:D},watch:{"data.type":function(e){this.qType=this.type?"c-topic-".concat(this.type):""}},data:function(){return{qType:this.type?"c-topic-".concat(this.type):""}},methods:{doAction:function(e){}}},S=(o(303),{components:{CTopic:Object(v.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return this.qType?t(this.qType,{tag:"component",attrs:{data:this.data}}):this._e()}),[],!1,null,null,null).exports,CEditer:h},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.app,n=e.params,c=l.a.get(n,"id"),t.next=4,o.$http.get("/question/get",{id:c});case 4:if(!(data=t.sent)){t.next=7;break}return t.abrupt("return",{qId:c,queData:l.a.get(data,"data")});case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{defTopics:{radio:{label:"单选题",title:"<p>单选题</p>",type:"radio",options:[{label:"<p>选项1</p>",number:0},{label:"<p>选项2</p>",number:1}]},checkbox:{label:"复选题",title:"<p>复选题</p>",type:"checkbox",options:[{label:"<p>选项1</p>",number:0},{label:"<p>选项2</p>",number:1}]},rate:{label:"评分题",title:"<p>评分题</p>",type:"rate",options:[{min:1,minLabel:"<p>非常不满意</p>",max:10,maxLabel:"<p>非常满意</p>"}]},text:{label:"开放题",title:"<p>开放题</p>",type:"text",options:[{text:null}]},explain:{label:"标签说明",title:"<p>标签说明</p>",type:"explain"},paging:{label:"分页",title:"<p>下一页</p>",type:"paging"}},drawer:{show:!1,title:"题目设置",direction:"rtl",topicSet:{type:"radio",number:0,required:"1",position:"1"},topicType:null},positions:[{label:"垂直",value:"1"},{label:"水平",value:"2"},{label:"多列",value:"3"}],logicDialog:{visible:!1,logic:{type:1,types:[{label:"显示逻辑",value:1},{label:"跳转逻辑",value:2}],accord:0,accords:[{label:"全部",value:0},{label:"任一",value:1}]}},showLogics:[{tId:"0",cond:"0",optionNumber:-1}],jumpLogics:[{optionNumber:-1,tId:"0"}]}},methods:{changeTopicSet:function(e){var t=arguments,o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>1&&void 0!==t[1]?t[1]:"type",console.log(c,e),(r=l.a.cloneDeep(l.a.get(o.drawer,"topicSet")))[c]=e,console.log("topicSet",r),n.next=7,o.$http.post("/topic/save",r);case 7:n.sent&&(o.$msg("保存成功"),(r=l.a.get(o.drawer,"topicSet"))[c]=e);case 9:case"end":return n.stop()}}),n)})))()},setTopicLogic:function(){var e=l.a.cloneDeep(l.a.get(this.drawer,"topicSet")),t=l.a.get(e,"showLogics");this.showLogics=l.a.size(t)?t:[{tId:"0",cond:"0",optionNumber:-1}];var o=l.a.get(e,"jumpLogics");this.jumpLogics=l.a.size(o)?o:[{optionNumber:-1,tId:"0"}],this.logicDialog.visible=!0},saveTopicLogic:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n,c,r,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.a.cloneDeep(l.a.get(e.drawer,"topicSet")),n=l.a.get(e,"showLogics"),c=l.a.filter(n,(function(e){return"0"===l.a.get(e,"tId")})),1===l.a.size(n)&&l.a.size(c)&&(n=[]),r=l.a.get(e,"jumpLogics"),d=l.a.filter(r,(function(e){return"0"===l.a.get(e,"tId")})),1===l.a.size(r)&&l.a.size(d)&&(r=[]),t.next=9,e.$http.post("/topic/save",l.a.assign(o,{showLogics:n,jumpLogics:r}));case 9:t.sent&&(e.$msg("保存成功"),e.logicDialog.visible=!1);case 11:case"end":return t.stop()}}),t)})))()},onPosition:function(e){this.$set(this.drawer.topicSet,"position",e)},getTopicTypes:function(){return[{label:"单选题",value:"radio"},{label:"复选题",value:"checkbox"}]},get:function(e,t){return l.a.get(e,t)},onLogic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"add",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"show",c="show"===n?{tId:"0",cond:"0",optionNumber:-1}:{optionNumber:-1,tId:"0"};"show"===n&&("add"===o&&e.push(c),"del"===o&&(e.splice(t,1),t||e.push(c))),"jump"===n&&("add"===o&&e.push(c),"del"===o&&(e.splice(t,1),t||e.push(c)))},setTopic:function(e){this.$set(this,"drawer",{show:!0,title:"题目设置",direction:"rtl",topicSet:e})},moveTopic:function(e){var t=arguments,o=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var c,r,d,f,v,h,x;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=t.length>1&&void 0!==t[1]?t[1]:"up",r=l.a.get(e,"number"),d=r,"up"!==c){n.next=9;break}if(r){n.next=7;break}return o.$msg("当前题是第一题，无法上移了！"),n.abrupt("return");case 7:f=l.a.get(l.a.get(o.queData,"topics"),r-1),d=l.a.get(f,"number");case 9:if(v=l.a.get(e,"qId"),h=l.a.size(l.a.get(o.queData,"topics")),"down"!==c){n.next=17;break}if(r!==h-1){n.next=15;break}return o.$msg("当前题是最后一题，无法下移了！"),n.abrupt("return");case 15:x=l.a.get(l.a.get(o.queData,"topics"),r+1),d=l.a.get(x,"number");case 17:return n.next=19,o.$http.post("/topic/move",{qid:v,sourceIndex:r,targetIndex:d});case 19:n.sent&&o.getQue();case 21:case"end":return n.stop()}}),n)})))()},addTopic:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,c,r;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=l.a.size(l.a.get(t.queData,"topics")),c=l.a.get(e,"id"),r=c?l.a.get(e,"number"):n||0,o.next=5,t.$http.post("/topic/save",l.a.assign(e,{qid:t.qId,number:r}));case 5:o.sent&&t.getQue();case 7:case"end":return o.stop()}}),o)})))()},delTopic:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$http.get("/topic/del",{id:l.a.get(e,"id")});case 2:o.sent&&t.getQue();case 4:case"end":return o.stop()}}),o)})))()},copyTopic:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$http.post("/topic/copy",{id:l.a.get(e,"id")});case 2:o.sent&&t.getQue();case 4:case"end":return o.stop()}}),o)})))()},getQue:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/question/get",{id:t.qId});case 2:(data=e.sent)&&(t.queData=l.a.get(data,"data"));case 4:case"end":return e.stop()}}),e)})))()},getLogicTopics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"before",t=l.a.cloneDeep(l.a.get(this.drawer,"topicSet.number")),o=l.a.cloneDeep(l.a.get(this.queData,"topics")),n=l.a.filter(o,(function(o){return"before"===e?o.number<t:o.number>t}));return l.a.concat({id:"0",number:-1,title:"请选择题目"},n)},getLogicConds:function(){return[{label:"请选择条件",value:"0"},{label:"选中",value:"1"},{label:"未选中",value:"2"},{label:"显示",value:"3"},{label:"未显示",value:"4"}]},getLogicOptions:function(){var e=l.a.cloneDeep(l.a.get(this.drawer,"topicSet.options"));return l.a.size(e)?l.a.concat({label:"请选择选项",number:-1},e):[{label:"请选择选项",number:-1}]},repalceHtml:function(e){return this.$util.repalceHtml(e)}}}),N=(o(305),Object(v.a)(S,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page-question-design"},[o("div",{staticClass:"design-left"}),o("div",{staticClass:"design-nav"},[o("div",{staticClass:"design-nav-title"},[e._v("题型")]),o("div",{staticClass:"design-nav-body"},e._l(e.defTopics,(function(t,n,c){return o("div",{key:n,staticClass:"design-nav-item",class:{"design-nav-end":c%2},on:{click:function(o){return e.addTopic(t)}}},[o("i",{class:"f-icon f-icon-topic-"+t.type}),o("span",[e._v(e._s(t.label))])])})),0)]),o("div",{staticClass:"design-body"},[o("div",{staticClass:"design-question"},[o("div",{staticClass:"design-question-head"},[o("c-editer",{model:{value:e.queData.title,callback:function(t){e.$set(e.queData,"title",t)},expression:"queData.title"}}),o("c-editer",{model:{value:e.queData.desc,callback:function(t){e.$set(e.queData,"desc",t)},expression:"queData.desc"}})],1),e._l(e.queData.topics,(function(t,n){return o("div",{key:n,staticClass:"topic-item"},[o("c-topic",{attrs:{type:t.type,data:t}}),o("div",{staticClass:"topic-foot"},[o("div",{staticClass:"action",on:{click:function(o){return e.setTopic(t)}}},[e._v("设置")]),o("div",{staticClass:"action",on:{click:function(o){return e.moveTopic(t)}}},[e._v("上移")]),o("div",{staticClass:"action",on:{click:function(o){return e.moveTopic(t,"down")}}},[e._v("下移")]),o("div",{staticClass:"action"},[e._v("逻辑")]),o("div",{staticClass:"action",on:{click:function(o){return e.delTopic(t)}}},[e._v("删除")]),o("div",{staticClass:"action"},[e._v("插入")]),o("div",{staticClass:"action",on:{click:function(o){return e.copyTopic(t)}}},[e._v("复制")]),o("div",{staticClass:"action",on:{click:function(o){return e.addTopic(t)}}},[e._v("保存")])])],1)}))],2),o("el-drawer",{attrs:{withHeader:!1,modal:!1,"show-close":!1,"custom-class":"question-design-drawer",visible:e.drawer.show,direction:e.drawer.direction},on:{"update:visible":function(t){return e.$set(e.drawer,"show",t)}}},[o("div",{staticClass:"topic-title"},[e._v("Q"+e._s(e.get(e.drawer.topicSet,"number"))+"、"+e._s(e.drawer.title))]),o("div",{staticClass:"topic-set-flex"},[o("el-select",{attrs:{placeholder:"修改题目类型"},model:{value:e.drawer.topicType,callback:function(t){e.$set(e.drawer,"topicType",t)},expression:"drawer.topicType"}},e._l(e.getTopicTypes(),(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),o("div",{staticClass:"topic-set-item topic-set-flex"},[o("div",{staticClass:"topic-set-label"},[e._v("此题必答")]),o("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#297aff","inactive-color":"#e0e0e0"},on:{change:function(t){return e.changeTopicSet(t,"required")}},model:{value:e.drawer.topicSet.required,callback:function(t){e.$set(e.drawer.topicSet,"required",t)},expression:"drawer.topicSet.required"}})],1),o("div",{staticClass:"topic-set-item"},[e._v("选项排列"),o("div",{staticClass:"topic-set-position-group"},e._l(e.positions,(function(t,n){return o("div",{key:n,staticClass:"topic-set-position",class:{"topic-set-position-active":t.value===e.drawer.topicSet.position},on:{click:function(o){return e.changeTopicSet(t.value,"position")}}},[e._v(e._s(t.label))])})),0)]),o("div",{staticClass:"topic-set-item topic-set-flex"},[o("div",{staticClass:"topic-set-label"},[e._v("逻辑设置")]),o("div",{staticClass:"topic-set-logic-btn",on:{click:function(t){return e.setTopicLogic()}}},[e._v("设置")])])]),o("el-dialog",{attrs:{"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.logicDialog.visible,"custom-class":"question-design-logic-dialog"},on:{"update:visible":function(t){return e.$set(e.logicDialog,"visible",t)}}},[o("div",{staticClass:"el-dialog-title"},[e._v("Q"+e._s(e.get(e.drawer.topicSet,"number"))+"、逻辑设置")]),o("div",{staticClass:"logic-type-group"},e._l(e.logicDialog.logic.types,(function(t,n){return o("div",{key:n,staticClass:"logic-type",class:{"logic-type-active":e.logicDialog.logic.type===t.value},on:{click:function(o){e.logicDialog.logic.type=t.value}}},[e._v(e._s(t.label))])})),0),1===e.logicDialog.logic.type?o("div",{staticClass:"logic-group"},[o("div",{staticClass:"logic-accord"},[o("span",[e._v("符合以下")]),o("span",[o("el-select",{model:{value:e.logicDialog.logic.accord,callback:function(t){e.$set(e.logicDialog.logic,"accord",t)},expression:"logicDialog.logic.accord"}},e._l(e.logicDialog.logic.accords,(function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),o("span",[e._v("条件时显示此题")])]),e._l(e.showLogics,(function(t,n){return o("div",{key:n,staticClass:"logic-item"},[o("el-select",{staticClass:"el-select-topic",model:{value:t.tId,callback:function(o){e.$set(t,"tId",o)},expression:"showLogic.tId"}},e._l(e.getLogicTopics(),(function(t,n){return o("el-option",{key:n,attrs:{label:(t.number>-1?"Q"+t.number+"、":"")+e.repalceHtml(t.title),value:t.id}})})),1),o("el-select",{staticClass:"el-select-cond",model:{value:t.cond,callback:function(o){e.$set(t,"cond",o)},expression:"showLogic.cond"}},e._l(e.getLogicConds(),(function(t,n){return o("el-option",{key:n,attrs:{label:e.repalceHtml(t.label),value:t.value}})})),1),o("el-select",{staticClass:"el-select-opt",model:{value:t.optionNumber,callback:function(o){e.$set(t,"optionNumber",o)},expression:"showLogic.optionNumber"}},e._l(e.getLogicOptions(),(function(t,n){return o("el-option",{key:n,attrs:{label:e.repalceHtml(t.label),value:t.number}})})),1),o("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.onLogic(e.showLogics,n)}}}),o("i",{staticClass:"el-icon-remove-outline",on:{click:function(t){return e.onLogic(e.showLogics,n,"del")}}})],1)}))],2):e._e(),2===e.logicDialog.logic.type?o("div",{staticClass:"logic-group"},e._l(e.jumpLogics,(function(t,n){return o("div",{key:n,staticClass:"logic-item"},[o("span",[e._v("如果本题选中")]),o("el-select",{staticClass:"el-select-opt el-select-opt-ext",model:{value:t.optionNumber,callback:function(o){e.$set(t,"optionNumber",o)},expression:"jumpLogic.optionNumber"}},e._l(e.getLogicOptions(),(function(t,n){return o("el-option",{key:n,attrs:{label:e.repalceHtml(t.label),value:t.number}})})),1),o("span",[e._v("则跳转到")]),o("el-select",{staticClass:"el-select-topic el-select-topic-ext",model:{value:t.tId,callback:function(o){e.$set(t,"tId",o)},expression:"jumpLogic.tId"}},e._l(e.getLogicTopics("after"),(function(t,n){return o("el-option",{key:n,attrs:{label:(t.number>-1?"Q"+t.number+"、":"")+e.repalceHtml(t.title),value:t.id}})})),1),o("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.onLogic(e.jumpLogics,e.sIndex,"add","jump")}}}),o("i",{staticClass:"el-icon-remove-outline",on:{click:function(t){return e.onLogic(e.jumpLogics,e.sIndex,"del","jump")}}})],1)})),0):e._e(),o("div",{staticClass:"logic-foot"},[o("div",{staticClass:"logic-btn",on:{click:function(t){e.logicDialog.visible=!1}}},[e._v("取消")]),o("div",{staticClass:"logic-btn logic-save",on:{click:function(t){return e.saveTopicLogic()}}},[e._v("保存")])])])],1)])}),[],!1,null,null,null));t.default=N.exports}}]);