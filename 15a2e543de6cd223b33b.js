(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{233:function(e,t,l){var content=l(274);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,l(25).default)("0cf3a828",content,!0,{sourceMap:!1})},273:function(e,t,l){"use strict";l(233)},274:function(e,t,l){(t=l(24)(!1)).push([e.i,".page-admin-role-detail{padding:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-admin-role-detail .role-detail{padding:40px 160px 100px 60px;background-color:#fff}.page-admin-role-detail .role-detail-head{width:800px;margin:0 auto}.page-admin-role-detail .role-detail-title{font-size:18px;font-weight:700;margin:0 0 30px}.page-admin-role-detail .role-detail-subtitle{color:#868787;font-size:14px;border-bottom:1px solid #e0e0e0;line-height:28px;margin:30px 0 15px}.page-admin-role-detail .role-detail-item{flex:1;width:800px;margin:0 auto}.page-admin-role-detail .role-detail-item-flex{width:800px;margin:0 auto;display:flex}.page-admin-role-detail .role-detail-item-flex .el-input{width:400px}.page-admin-role-detail .role-detail-item-state{margin-left:30px;line-height:34px}.page-admin-role-detail .role-detail-item .el-input__inner,.page-admin-role-detail .role-detail-item .el-textarea__inner{background-color:#f0f2f5}.page-admin-role-detail .role-detail-label{font-size:14px;line-height:34px;width:200px;color:#868787}.page-admin-role-detail .role-detail-foot{height:150px;display:flex;justify-content:center;align-items:center}.page-admin-role-detail .role-detail-foot .btn{height:30px;width:100px;line-height:30px;color:#fff;text-align:center;font-size:14px;cursor:pointer;background-color:#297aff}.page-admin-role-detail .role-detail-foot .btn:hover{opacity:.8}.page-admin-role-detail .role-detail-foot .btn:active{opacity:1}.page-admin-role-detail .role-detail-foot .btn-cancel{background-color:#868787;margin-right:50px}",""]),e.exports=t},327:function(e,t,l){"use strict";l.r(t);l(34),l(33);var r=l(7),n=l(4),o=l.n(n),d={asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var l,r,n,d,c,m,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=e.app,r=e.params,t.next=3,l.$http.get("/sys/menu/tree");case 3:if(n=t.sent,d=o.a.get(r,"rid"),c={id:null,name:null,enAlias:null,weight:null,state:"1",remark:null,menuList:[]},m=[],!n){t.next=14;break}if("new"===d){t.next=13;break}return t.next=11,l.$http.get("/sys/role/get",{id:d});case 11:(data=t.sent)&&(c=o.a.get(data,"data"),m=o.a.map(o.a.get(c,"menuList"),(function(menu){return o.a.get(menu,"id")})));case 13:return t.abrupt("return",{menuTree:o.a.get(n,"data"),roleForm:c,checkedMenuIds:m});case 14:case"end":return t.stop()}}),t)})))()},data:function(){return{roleForm:{id:null,name:null,enAlias:null,weight:null,state:"1",remark:null,menuList:[]},defaultProps:{children:"children",label:"name"}}},methods:{handleNodeClick:function(data){console.log(this.$refs.menu_tree.getCheckedKeys()),this.$set(this.roleForm,"menuList",this.$refs.menu_tree.getCheckedKeys())},onSave:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,t.$http.post("/sys/role/save",e);case 2:l.sent&&(t.$msg("保存成功","success"),t.onCancel());case 4:case"end":return l.stop()}}),l)})))()},onCancel:function(){this.$router.go(-1)}}},c=(l(273),l(26)),component=Object(c.a)(d,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"page-admin-role-detail"},[l("div",{staticClass:"role-detail"},[e._m(0),l("div",{staticClass:"role-detail-item"},[l("div",{staticClass:"role-detail-label"},[e._v("角色名称：")]),l("el-input",{model:{value:e.roleForm.name,callback:function(t){e.$set(e.roleForm,"name",t)},expression:"roleForm.name"}})],1),l("div",{staticClass:"role-detail-item"},[l("div",{staticClass:"role-detail-label"},[e._v("权限标识：")]),l("el-input",{model:{value:e.roleForm.enAlias,callback:function(t){e.$set(e.roleForm,"enAlias",t)},expression:"roleForm.enAlias"}})],1),l("div",{staticClass:"role-detail-item-flex"},[l("div",{staticClass:"role-detail-item"},[l("div",{staticClass:"role-detail-label"},[e._v("权重：")]),l("el-input",{attrs:{type:"number"},model:{value:e.roleForm.weight,callback:function(t){e.$set(e.roleForm,"weight",t)},expression:"roleForm.weight"}})],1),l("div",{staticClass:"role-detail-item role-detail-item-state"},[l("div",{staticClass:"role-detail-label"},[e._v("状态：")]),l("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:e.roleForm.state,callback:function(t){e.$set(e.roleForm,"state",t)},expression:"roleForm.state"}})],1)]),l("div",{staticClass:"role-detail-item"},[l("div",{staticClass:"role-detail-label"},[e._v("备注：")]),l("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.roleForm.remark,callback:function(t){e.$set(e.roleForm,"remark",t)},expression:"roleForm.remark"}})],1),l("div",{staticClass:"role-detail-item"},[l("div",{staticClass:"role-detail-subtitle"},[e._v("菜单权限：")]),l("el-tree",{ref:"menu_tree",attrs:{data:e.menuTree,"show-checkbox":"","node-key":"id",props:e.defaultProps,"default-expanded-keys":e.checkedMenuIds,"default-checked-keys":e.checkedMenuIds},on:{check:e.handleNodeClick}})],1),l("div",{staticClass:"role-detail-foot"},[l("div",{staticClass:"btn btn-cancel",on:{click:function(t){return e.onCancel()}}},[e._v("取消")]),l("div",{staticClass:"btn",on:{click:function(t){return e.onSave(e.roleForm)}}},[e._v("保存")])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"role-detail-head"},[t("div",{staticClass:"title-top"},[t("div",{staticClass:"title-top__start"}),t("div",{staticClass:"title-top__end"})]),t("div",{staticClass:"role-detail-title"},[this._v("添加角色")])])}],!1,null,null,null);t.default=component.exports}}]);