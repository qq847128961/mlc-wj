(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{228:function(e,t,n){var content=n(264);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("5ded376c",content,!0,{sourceMap:!1})},229:function(e,t,n){var content=n(266);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(25).default)("4edb7ea8",content,!0,{sourceMap:!1})},263:function(e,t,n){"use strict";n(228)},264:function(e,t,n){(t=n(24)(!1)).push([e.i,".c-menu-dropdown-menu{width:400px}.c-menu-dropdown-menu-none{display:none}",""]),e.exports=t},265:function(e,t,n){"use strict";n(229)},266:function(e,t,n){(t=n(24)(!1)).push([e.i,".page-admin-menu-list{padding:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-admin-menu-list .menu-list{background-color:#fff;padding:30px 20px}.page-admin-menu-list .menu-list-title{font-size:18px;font-weight:700}.page-admin-menu-list .menu-list-seach{margin:20px 0;display:flex}.page-admin-menu-list .menu-list-seach .lebel{font-size:14px;color:#666;margin-left:20px;line-height:30px}.page-admin-menu-list .menu-list-seach .lebel:first-child{margin-left:0}.page-admin-menu-list .menu-list-seach .el-input{width:200px}.page-admin-menu-list .menu-list-seach .el-input__inner{height:30px;line-height:30px}.page-admin-menu-list .menu-list-seach .el-input__icon{line-height:30px}.page-admin-menu-list .menu-list-seach__end{flex:1;display:flex;justify-content:flex-end}.page-admin-menu-list .menu-list-seach__end .btn{height:30px;width:80px;line-height:30px;color:#fff;text-align:center;font-size:14px;cursor:pointer;background-color:#297aff}.page-admin-menu-list .menu-list-seach__end .btn:hover{opacity:.8}.page-admin-menu-list .menu-list-seach__end .btn:active{opacity:1}.page-admin-menu-list .menu-list-head{line-height:30px;font-size:14px;background-color:#e9f1ff;display:flex;margin-top:20px}.page-admin-menu-list .menu-list-item{display:flex;line-height:40px;border-bottom:1px solid #e0e0e0}.page-admin-menu-list .menu-list .num{width:80px;padding-left:10px}.page-admin-menu-list .menu-list .account{width:250px}.page-admin-menu-list .menu-list .login-name{flex:1}.page-admin-menu-list .menu-list .register-time{width:280px}.page-admin-menu-list .menu-list .state{width:150px;text-align:center}.page-admin-menu-list .menu-list .action{width:200px;text-align:center;display:flex}.page-admin-menu-list .menu-list .action-edit{cursor:pointer}.page-admin-menu-list .menu-list-pagination{margin-top:20px;display:flex;justify-content:flex-end}.page-admin-menu-list .menu-list-add-dialog{width:680px}.page-admin-menu-list .menu-list-add-dialog .el-dialog-item{display:flex}.page-admin-menu-list .menu-list-add-dialog .el-dialog-item-label{font-size:14px;line-height:34px;width:140px;text-align:right;margin-bottom:15px}.page-admin-menu-list .menu-list-add-dialog .el-dialog-item-content{display:flex;align-items:center;height:34px}.page-admin-menu-list .menu-list-add-dialog .el-dialog-item .el-input,.page-admin-menu-list .menu-list-add-dialog .el-dialog-item .el-textarea{width:400px}.page-admin-menu-list .menu-list-add-dialog .el-dialog-item .el-input__inner,.page-admin-menu-list .menu-list-add-dialog .el-dialog-item .el-textarea__inner{background-color:#f0f2f5}.page-admin-menu-list .menu-list-add-dialog .el-dialog-foot{height:100px;display:flex;justify-content:center;align-items:center}.page-admin-menu-list .menu-list-add-dialog .el-dialog-foot .btn{height:30px;width:100px;line-height:30px;color:#fff;text-align:center;font-size:14px;cursor:pointer;background-color:#297aff}.page-admin-menu-list .menu-list-add-dialog .el-dialog-foot .btn:hover{opacity:.8}.page-admin-menu-list .menu-list-add-dialog .el-dialog-foot .btn:active{opacity:1}",""]),e.exports=t},316:function(e,t,n){"use strict";n.r(t);n(47),n(33);var l=n(7),o=n(4),d=n.n(o),r={props:{value:{type:String,default:function(){return"1"}},treeData:{type:[Array,Object],default:function(){return null}}},data:function(){return{input:null,menuName:null,showMenu:!1,defaultProps:{children:"children",label:"name"}}},watch:{value:function(){this.getMenuName()}},mounted:function(){this.getMenuName()},methods:{getMenuName:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/menu/get",{id:e.value});case 2:(data=t.sent)&&(e.menuName=d.a.get(data,"data.name"));case 4:case"end":return t.stop()}}),t)})))()},handleNodeClick:function(data){this.menuName=d.a.get(data,"name"),this.$emit("input",d.a.get(data,"id")),this.showMenu=!1}}},c=(n(263),n(26)),m={components:{CMenuDropdown:Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{trigger:"click",placement:"bottom","open-delay":2e3,"close-delay":2e3,"popper-class":"c-menu-dropdown-menu"},model:{value:e.showMenu,callback:function(t){e.showMenu=t},expression:"showMenu"}},[n("el-input",{attrs:{slot:"reference",placeholder:"请输入内容",value:e.menuName},slot:"reference"},[n("i",{staticClass:"el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})]),n("el-tree",{attrs:{data:e.treeData,"node-key":"id","default-expanded-keys":[2,3],"default-checked-keys":[5],props:e.defaultProps},on:{"node-click":e.handleNodeClick}})],1)}),[],!1,null,null,null).exports},asyncData:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,t.next=3,n.$http.get("/menu/tree");case 3:if(!(data=t.sent)){t.next=6;break}return t.abrupt("return",{dialog:{visible:!1,parentId:"1",name:null,type:"1",weight:null,apiAddr:null,showFlag:"1",permissionFlag:null},menuData:d.a.get(data,"data")});case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{input1:null}},methods:{addMenu:function(){var menu=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.dialog=menu?{visible:!0,parentId:d.a.get(menu,"id"),name:null,type:"1",weight:null,apiAddr:null,showFlag:"1",permissionFlag:null}:{visible:!0,parentId:"1",name:null,type:"1",weight:null,apiAddr:null,showFlag:"1",permissionFlag:null}},onMenu:function(){var e=this,menu=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";"del"!==t?this.dialog={visible:!0,id:d.a.get(menu,"id"),parentId:d.a.get(menu,"parentId"),name:d.a.get(menu,"name"),type:d.a.get(menu,"type"),weight:d.a.get(menu,"weight"),apiAddr:d.a.get(menu,"apiAddr"),showFlag:d.a.get(menu,"showFlag"),permissionFlag:d.a.get(menu,"permissionFlag")}:this.$confirm("您确定删除：".concat(menu.name,"此项菜单么？"),"删除菜单",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){e.delMenu(d.a.get(menu,"id")),e.getMenuTree(e.pagination.currentPage)})).catch((function(){}))},delMenu:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$http.post("/menu/del",{id:e});case 2:n.sent&&(t.$msg("已删除","success"),t.getMenuTree());case 4:case"end":return n.stop()}}),n)})))()},getMenuTree:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/menu/tree");case 2:data=t.sent,e.menuData=d.a.get(data,"data");case 4:case"end":return t.stop()}}),t)})))()},onSave:function(menu){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/menu/save",menu);case 2:t.sent&&(e.getMenuTree(),e.dialog.visible=!1);case 4:case"end":return t.stop()}}),t)})))()}}},f=(n(265),Object(c.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-admin-menu-list"},[n("div",{staticClass:"menu-list"},[e._m(0),n("div",{staticClass:"menu-list-title"},[e._v("菜单管理")]),n("div",{staticClass:"menu-list-seach"},[n("div",{staticClass:"menu-list-seach__end"},[n("div",{staticClass:"btn",on:{click:function(t){return e.addMenu()}}},[e._v("添加")])])]),n("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.menuData,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[n("el-table-column",{attrs:{prop:"name",label:"姓名",sortable:"",width:"180"}}),n("el-table-column",{attrs:{prop:"weight",label:"权重"}}),n("el-table-column",{attrs:{prop:"apiAddr",label:"接口地址"}}),n("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s("1"===t.row.type?"菜单":"权限"))]}}])}),n("el-table-column",{attrs:{prop:"permissionFlag",label:"权限标识"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return n("div",{staticClass:"action"},[n("el-tooltip",{attrs:{effect:"dark",content:"编辑",placement:"top"}},[n("i",{staticClass:"f-icon f-icon-admin-edit",on:{click:function(n){return e.onMenu(t.row)}}})]),n("el-tooltip",{attrs:{effect:"dark",content:"删除",placement:"top"}},[n("i",{staticClass:"f-icon f-icon-admin-del",on:{click:function(n){return e.onMenu(t.row,"del")}}})]),n("el-tooltip",{attrs:{effect:"dark",content:"添加",placement:"top"}},[n("i",{staticClass:"f-icon f-icon-admin-add",on:{click:function(n){return e.addMenu(t.row,"add")}}})])],1)}}])})],1),n("div",{staticClass:"menu-list-pagination"})],1),n("el-dialog",{attrs:{title:"添加授权菜单","custom-class":"menu-list-add-dialog",visible:e.dialog.visible},on:{"update:visible":function(t){return e.$set(e.dialog,"visible",t)}}},[n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("上级菜单：")]),n("c-menu-dropdown",{attrs:{treeData:e.menuData},model:{value:e.dialog.parentId,callback:function(t){e.$set(e.dialog,"parentId",t)},expression:"dialog.parentId"}})],1),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("菜单类型：")]),n("div",{staticClass:"el-dialog-item-content"},[n("el-radio",{attrs:{label:"1"},model:{value:e.dialog.type,callback:function(t){e.$set(e.dialog,"type",t)},expression:"dialog.type"}},[e._v("菜单")]),n("el-radio",{attrs:{label:"2"},model:{value:e.dialog.type,callback:function(t){e.$set(e.dialog,"type",t)},expression:"dialog.type"}},[e._v("权限")])],1)]),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("菜单名称：")]),n("el-input",{model:{value:e.dialog.name,callback:function(t){e.$set(e.dialog,"name",t)},expression:"dialog.name"}})],1),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("请求地址：")]),n("el-input",{model:{value:e.dialog.apiAddr,callback:function(t){e.$set(e.dialog,"apiAddr",t)},expression:"dialog.apiAddr"}})],1),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("权限标识：")]),n("el-input",{model:{value:e.dialog.permissionFlag,callback:function(t){e.$set(e.dialog,"permissionFlag",t)},expression:"dialog.permissionFlag"}})],1),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("权重：")]),n("el-input",{attrs:{type:"number"},model:{value:e.dialog.weight,callback:function(t){e.$set(e.dialog,"weight",t)},expression:"dialog.weight"}})],1),n("div",{staticClass:"el-dialog-item"},[n("div",{staticClass:"el-dialog-item-label"},[e._v("显示状态：")]),n("div",{staticClass:"el-dialog-item-content"},[n("el-radio",{attrs:{label:"1"},model:{value:e.dialog.showFlag,callback:function(t){e.$set(e.dialog,"showFlag",t)},expression:"dialog.showFlag"}},[e._v("显示")]),n("el-radio",{attrs:{label:"2"},model:{value:e.dialog.showFlag,callback:function(t){e.$set(e.dialog,"showFlag",t)},expression:"dialog.showFlag"}},[e._v("隐藏")])],1)]),n("div",{staticClass:"el-dialog-foot"},[n("div",{staticClass:"btn",on:{click:function(t){return e.onSave(e.dialog)}}},[e._v("保存")])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title-top"},[t("div",{staticClass:"title-top__start"}),t("div",{staticClass:"title-top__end"})])}],!1,null,null,null));t.default=f.exports}}]);